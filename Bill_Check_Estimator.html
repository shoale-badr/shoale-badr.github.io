<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en-US" ><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="alternate" type="application/json+oembed" href="https://www.jotform.com/oembed/?format=json&amp;url=https%3A%2F%2Fform.jotform.com%2F232134606719152" title="oEmbed Form">
<link rel="alternate" type="text/xml+oembed" href="https://www.jotform.com/oembed/?format=xml&amp;url=https%3A%2F%2Fform.jotform.com%2F232134606719152" title="oEmbed Form">
<meta property="og:title" content="Bill Check Estimator" >
<meta property="og:url" content="https://form.jotform.com/232134606719152" >
<meta property="og:description" content="Please click the link to complete this form." >
<meta name="slack-app-id" content="AHNMASS8M">
<meta property="og:image" content="https://cdn.jotfor.ms/assets/img/landing/opengraph.png" />
<link rel="shortcut icon" href="https://cdn.jotfor.ms/assets/img/favicons/favicon-2021-light%402x.png">
<link rel="apple-touch-icon" href="https://cdn.jotfor.ms/assets/img/favicons/favicon-2021-light%402x.png">
<script>
          var favicon = document.querySelector('link[rel="shortcut icon"]');
          window.isDarkMode = (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches);
          if(favicon && window.isDarkMode) {
              favicon.href = favicon.href.replaceAll('favicon-2021-light%402x.png', 'favicon-2021-dark%402x.png');
          }
      </script><link rel="canonical" href="https://form.jotform.com/232134606719152" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, user-scalable=1" />
<meta name="HandheldFriendly" content="true" />
<title>Bill Check Estimator</title>
<style type="text/css">@media print{.form-section{display:inline!important}.form-pagebreak{display:none!important}.form-section-closed{height:auto!important}.page-section{position:initial!important}}</style>
<link type="text/css" rel="stylesheet" href="https://cdn01.jotfor.ms/themes/CSS/5e6b428acc8c4e222d1beb91.css?v=3.3.45656&themeRevisionID=63e6805f64383509e31513f4"/>
<link type="text/css" rel="stylesheet" href="https://cdn02.jotfor.ms/css/styles/payment/payment_styles.css?3.3.45656" />
<link type="text/css" rel="stylesheet" href="https://cdn03.jotfor.ms/css/styles/payment/payment_feature.css?3.3.45656" />
<link type="text/css" rel="stylesheet" href="https://cdn01.jotfor.ms/stylebuilder/donationBox.css?v=3.3.45656" />
<style type="text/css" id="form-designer-style">
    /* Injected CSS Code */
/*PREFERENCES STYLE*/
    .form-all {
      font-family: Inter, sans-serif;
    }
  
    .form-label.form-label-auto {
      
    display: block;
    float: none;
    text-align: left;
    width: 100%;
  
    }
  
    .form-line {
      margin-top: 12px 36px 12px 36px px;
      margin-bottom: 12px 36px 12px 36px px;
      padding-top: 0;
      padding-bottom: 0;
    }
  
    .form-all {
      max-width: 752px;
      width: 100%;
    }
  
    .form-label.form-label-left,
    .form-label.form-label-right,
    .form-label.form-label-left.form-label-auto,
    .form-label.form-label-right.form-label-auto {
      width: 230px;
    }
  
    .form-all {
      font-size: 16px
    }
  
    .supernova .form-all, .form-all {
      background-color: #fff;
    }
  
    .form-all {
      color: #2C3345;
    }
    .form-header-group .form-header {
      color: #2C3345;
    }
    .form-header-group .form-subHeader {
      color: #2C3345;
    }
    .form-label-top,
    .form-label-left,
    .form-label-right,
    .form-html,
    .form-checkbox-item label,
    .form-radio-item label,
    span.FITB .qb-checkbox-label,
    span.FITB .qb-radiobox-label,
    span.FITB .form-radio label,
    span.FITB .form-checkbox label,
    [data-blotid][data-type=checkbox] [data-labelid],
    [data-blotid][data-type=radiobox] [data-labelid],
    span.FITB-inptCont[data-type=checkbox] label,
    span.FITB-inptCont[data-type=radiobox] label {
      color: #2C3345;
    }
    .form-sub-label {
      color: #464d5f;
    }
  
  .supernova {
    background-color: undefined;
  }
  .supernova body {
    background: transparent;
  }
  
    .form-textbox,
    .form-textarea,
    .form-dropdown,
    .form-radio-other-input,
    .form-checkbox-other-input,
    .form-captcha input,
    .form-spinner input {
      background-color: undefined;
    }
  
    .supernova {
      background-image: none;
    }
    #stage {
      background-image: none;
    };
  
    .form-all {
      background-image: none;
    }
  .form-all:before { content: none; } .form-all { margin-top: 72px; }/*PREFERENCES STYLE*//*__INSPECT_SEPERATOR__*/.form-header-group.header-small {
    padding: 20px 52px !important;
    border-radius : 6px 6px 0 0;
    border-top: 1px solid #eee;
    margin: 0 -38px;
    border-bottom: 0;
}

.form-header-group.header-small h3 {
    text-transform : uppercase;
    font-size : 26px;
    font-weight : 400;
    text-align : left;
}

#my_submit {
  background-color: #3498db;
  color: white;
  border: 0;
  padding: 10px 20px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin-top: 5px;
  margin-bottom: 20px;
  cursor: pointer;
  border-radius: 25px;
}

#my_submit:hover {
  background-color: #2980b9;
}
    /* Injected CSS Code */
</style>

<script src="https://cdn02.jotfor.ms/static/prototype.forms.js?3.3.45656" type="text/javascript"></script>
<script src="https://cdn03.jotfor.ms/static/jotform.forms.js?3.3.45656" type="text/javascript"></script>
<script src="https://cdn01.jotfor.ms/js/payments/validategateways.js?v=3.3.45656" type="text/javascript"></script>
<script src="https://cdn01.jotfor.ms/s/umd/d7e145f99cf/for-form-branding-footer.js?v=3.3.45656" type="text/javascript" defer></script>
<script type="text/javascript">	JotForm.newDefaultTheme = true;
	JotForm.extendsNewTheme = false;
	JotForm.singleProduct = false;
	JotForm.newPaymentUIForNewCreatedForms = false;
	JotForm.newPaymentUI = true;

   JotForm.setConditions([{"action":[{"field":"9","visibility":"Show","id":"action_0_1579704830003"}],"id":"1579704830003","index":"0","link":"Any","priority":"0","terms":[{"field":"8","operator":"equals","value":"Other"}],"type":"field"}]);	JotForm.clearFieldOnHide="disable";
	JotForm.submitError="jumpToFirstError";
	window.addEventListener('DOMContentLoaded',function(){window.brandingFooter.init({"formID":232134606719152,"campaign":"powered_by_jotform_le","isCardForm":false,"isLegacyForm":true})});
	JotForm.init(function(){
	/*INIT-START*/
if (window.JotForm && JotForm.accessible) $('input_65').setAttribute('tabindex',0);
      JotForm.setCustomHint( 'input_65', '99140, 44.32' );
	/*INIT-END*/
	});

   setTimeout(function() {
JotForm.paymentExtrasOnTheFly([null,{"name":"clickTo","qid":"1","text":"WELCOME TO THE GLASSBOX HEALTH FAIR PRICE TOOL!","type":"control_head"},null,null,null,null,null,null,null,null,null,null,null,null,null,null,{"name":"divider","qid":"16","text":"Divider","type":"control_divider"},null,null,null,null,{"description":"","labelText":"","name":"bild","qid":"21","text":"IMG_0066%20%281%29.64d128b0271eb0.64919734","type":"control_image"},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,{"description":"","name":"pleaseEnter","qid":"65","subLabel":"A billing code is a unique 5-digit number that allows doctors and other healthcare professionals to distinguish between different medical services and procedures. Some example codes, for your reference, are 99140, 89398, and 70010.","text":"Please enter each billing code and charge from each row of your bill in the text box, formatted as shown in the example below. Separate each entry (row) with a new line.","type":"control_textarea"}]);}, 20); 
</script>
</head>
<body>
<form class="jotform-form" action="https://submit.jotform.com/submit/232134606719152" method="post" name="form_232134606719152" id="232134606719152" accept-charset="utf-8" autocomplete="on"><input type="hidden" name="formID" value="232134606719152" /><input type="hidden" id="JWTContainer" value="" /><input type="hidden" id="cardinalOrderNumber" value="" />
  <div role="main" class="form-all">
    <ul class="form-section page-section">
      <li class="form-line form-line-column form-col-1" data-type="control_image" id="id_21">
        <div id="cid_21" class="form-input-wide" data-layout="full"> <img alt="Dummy company logo named ACME global" loading="lazy" class="form-image" style="border:0" src="https://www.jotform.com/uploads/shoale4/form_files/IMG_0066%20%281%29.64d128b0271eb0.64919734.jpg" tabindex="0" height="0px" width="150px" data-component="image" /> </div>
      </li>
      <li id="cid_1" class="form-input-wide" data-type="control_head">
        <div class="form-header-group  header-default">
          <div class="header-text httal htvam">
            <h2 id="header_1" class="form-header" data-component="header">WELCOME TO THE GLASSBOX HEALTH FAIR PRICE TOOL!</h2>
            <div id="subHeader_1" class="form-subHeader">We&#x27;ll give you an estimate as to how much you can save on your medical bill (usually it&#x27;s anywhere from 30-95%). To do this, we use publicly available data on insurance negotiated rates and code-by-code market prices for each procedure you received. All you have to do is pull out your itemized bill and enter the codes and charges exactly as they are in the form below. </div>
          </div>
        </div>
      </li>
      <li class="form-line" data-type="control_divider" id="id_16">
        <div id="cid_16" class="form-input-wide" data-layout="full">
          <div class="divider" data-component="divider" style="border-bottom-width:1px;border-bottom-style:solid;border-color:#ecedf3;height:1px;margin-left:0px;margin-right:0px;margin-top:5px;margin-bottom:5px"></div>
        </div>
      </li>
      <li class="form-line" data-type="control_textarea" id="id_65"><label class="form-label form-label-top form-label-auto" id="label_65" for="input_65" aria-hidden="false"> Please enter each billing code and charge from each row of your bill in the text box, formatted as shown in the example below. Separate each entry (row) with a new line. </label>
        <div id="cid_65" class="form-input-wide" data-layout="full"> <span class="form-sub-label-container" style="vertical-align:top"><textarea id="input_65" class="form-textarea" name="q65_pleaseEnter" style="width:648px;height:163px" data-component="textarea" aria-labelledby="label_65 sublabel_input_65"></textarea><label class="form-sub-label" for="input_65" id="sublabel_input_65" style="min-height:13px" aria-hidden="false">A billing code is a unique 5-digit number that allows doctors and other healthcare professionals to distinguish between different medical services and procedures. Some example codes, for your reference, are 99140, 89398, and 70010.</label></span> </div>
      </li>

      <div>
          <button type="button" id="my_submit">Estimate my savings!</button>
      </div>

      <script>

        // processing cost and savings
        document.addEventListener("DOMContentLoaded", function() {

          const form = document.getElementById("232134606719152");
          var textarea = document.getElementById('input_65');
          // const resultContainer = document.getElementById("sublabel_input_29");
          const submit_button = document.getElementById("my_submit");

          // Add a new paragraph element to display the answer
          const answerContainer = document.createElement("div")
          const answerDisplay = document.createElement("p");
          // console.log(answerDisplay);
          // resultContainer.appendChild(answerContainer); // Append the answer display to the result container
          answerContainer.appendChild(answerDisplay);

          submit_button.addEventListener("click", async function() {
            const form_data = new FormData(form);
            const textareaValue = textarea.value;
            const codeArray = textareaValue.split(/[\n]/);
            // console.log(codeArray);

            let totalLowestCost = 0;
            let lowest = [];

            let cnt = 0;
            let answer2 = "";
            for (const code of codeArray) {
              const cleanCode = code.trim();
              let codeSplit = code.split(/[,]/);
              for (const y of codeSplit){
                console.log(y);
              }
              // console.log(code.split(/[,]/));
              // if (cleanCode) {
              //   try {
              //     // // const apiUrl = `http://localhost:8000/prices/${cleanCode}`;
              //     // // new sb 9/20/23
              //     // const apiUrl = "https://ts9i1uu1y1.execute-api.us-east-2.amazonaws.com/dev/prices";
              //     // const payload = {
              //     //   // authorizationToken: "abc123",
              //     //   code: "99140",
              //     //   billed_price: "500000.00"
              //     // };
              //     // const headers = {
              //     //   // 'authorizationTokenzationToken': 'abc123',
              //     //   'authorizationToken': 'abc123',
              //     //   'Content-Type': 'application/json'
              //     // };
              //     // const requestOptions = {
              //     //   method: 'POST',
              //     //   headers: headers,
              //     //   body: JSON.stringify(payload),
              //     //   redirect: 'follow'
              //     // };
              //     // // --------------
              //     // const response = await fetch(apiUrl, requestOptions);
              //     // // console.log(response);
              //     // const data = await response.json();
              //     // console.log(data);

              //     const apiUrl = "https://ts9i1uu1y1.execute-api.us-east-2.amazonaws.com/dev/prices/discount"
              //     const payload = {
              //       "code": "99140",
              //       "billed_price": "500000.00"
              //     };
              //     const headers = {
              //       'authorizationToken': 'abc123',
              //       'Content-Type': 'application/json'
              //     };
              //     const requestOptions = {
              //       method: 'POST',
              //       headers: headers,
              //       body: JSON.stringify(payload),
              //       redirect: 'follow'
              //     };
              //     // --------------
              //     fetch("https://ts9i1uu1y1.execute-api.us-east-2.amazonaws.com/dev/prices", requestOptions)
              //       .then(response => response.text())
              //       .then(result => console.log(result))
              //       .catch(error => console.log('error', error));




              //     if (data){
              //       totalLowestCost += Math.round(data.med_price);
              //       // console.log(data.med_price);
              //       lowest[cnt] = (data.med_price).toFixed(2);
              //       answer2 = answer2 + "Code " + String(cleanCode) + " fair price: $" + String(lowest[cnt]) + "\n";
              //     }
              //     else{
              //       answer2 = answer2 + "Code " + String(cleanCode) + " fair price: not found"+ "\n";
              //     }
              //   } catch (error) {
              //     answer2 = answer2 + "Code " + String(cleanCode) + " fair price: not found"+ "\n";
              //     console.error("Error fetching data:", error);
              //   }
              // }
              cnt += 1;
            }


            // const apiUrl = "https://ts9i1uu1y1.execute-api.us-east-2.amazonaws.com/dev/prices/discount"
            const payload = {
              "code": "99140",
              "billed_price": "500000.00"
            };
            const headers = {
              'authorizationToken': 'Bearer abc123',
              'Content-Type': 'application/json'
            };
            const requestOptions = {
              method: 'POST',
              headers: headers,
              body: JSON.stringify(payload),
              redirect: 'follow'
            };
            // --------------
            fetch("https://ts9i1uu1y1.execute-api.us-east-2.amazonaws.com/dev/prices", requestOptions)
              .then(response => response.text())
              .then(result => console.log(result))
              .catch(error => console.log('error', error));

            // var diff = Math.abs(100 * ((parseFloat(totalBillCost.value)-totalLowestCost) / parseFloat(totalBillCost.value)));
            // if (totalBillCost.value-totalLowestCost < 0){
            //   // var answer = "You could save up to " + String(Math.round(diff)) + "% ($" + String(Math.abs(parseFloat(totalBillCost.value))) + ")" + " on this bill!" + "\n";
            //   var answer = "Something isn't right. Please check the total bill cost and codes again.";
            // }
            // else{
            //   var answer = "You could save up to " + String(Math.round(diff)) + "% ($" + String(Math.abs(parseFloat(totalBillCost.value)-totalLowestCost)) + ")" + " on this bill!" + "\n";
            // }
            console.log(textareaValue);
            // console.log(lowest);


            // send form data to jotform 
          //   fetch('https://api.jotform.com/form/232134606719152/submission', {
          //     method: 'POST',
          //     headers: {
          //       'APIKEY': 'c5f0fd9066c7aa5b6171d795fed4d44a',
          //     },
          //     body: form_data,
          //   })
          //   .then(response => response.json())
          //   .then(data => {
          //     if (data.responseCode === 200) {
          //       alert('Form submitted successfully!');
          //       // You can perform additional actions here if needed.
          //     } else {
          //       alert('Error submitting the form.');
          //     }
          //   })
          //   .catch(error => {
          //   alert('An error occurred while submitting the form.');
          //   console.error(error);
          // });


            // Store the answer in a hidden input field on the form
            
            // var answerDisplay = document.getElementById("sublabel_input_29");

            // Update the answer display with the calculated answer
            // answer = answer2 + "\n" + answer;
            // answer = answer.replace(/\n/g, '<br>');
            // // answerDisplay.textContent = answer;
            // answerDisplay.innerHTML = answer;
            // answerDisplay.style.fontWeight = "bold";
            // answerDisplay.style.fontSize = "15px";
            // answerDisplay.style.color = "black";
            // // answerDisplay.style.display = "block"; // Display the modified content
            // // answerDisplay.show()
            // setTimeout(function() {
            //   answerDisplay.style.display = "block";
            // }, 2000);

            // // Store the answer in a hidden input field on the form
            // document.getElementById("answer_input").value = answer;
          });
        });

      </script>



      <li style="display:none">Should be Empty: <input type="text" name="website" value="" /></li>
    </ul>
  </div>
  <script>
    JotForm.showJotFormPowered = "new_footer";
  </script>
  <script>
    JotForm.poweredByText = "Powered by Jotform";
  </script><input type="hidden" class="simple_spc" id="simple_spc" name="simple_spc" value="232134606719152" />
  <script type="text/javascript">
    var all_spc = document.querySelectorAll("form[id='232134606719152'] .si" + "mple" + "_spc");
    for (var i = 0; i < all_spc.length; i++)
    {
      all_spc[i].value = "232134606719152-232134606719152";
    }
  </script>
</form></body>
</html><script type="text/javascript">JotForm.ownerView=true;</script><script src="https://cdn.jotfor.ms//js/vendor/smoothscroll.min.js?v=3.3.45656"></script>
<script src="https://cdn.jotfor.ms//js/errorNavigation.js?v=3.3.45656"></script>
<script type="text/javascript">JotForm.isNewSACL=true;</script>